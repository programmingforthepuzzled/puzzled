parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"VuXv":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];!function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof module,h=t.regeneratorRuntime;if(h)u&&(module.exports=h);else{(h=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={},v={};v[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(P([])));g&&g!==e&&n.call(g,i)&&(v=g);var m=b.prototype=x.prototype=Object.create(v);E.prototype=m.constructor=b,b.constructor=E,b[c]=E.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===E||"GeneratorFunction"===(r.displayName||r.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},h.AsyncIterator=j,h.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return h.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(G),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),G(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;G(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function E(){}function b(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function k(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function G(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")());
},{}],"rgxB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.codeErrorAlert=function(){alert("Your code has errors. Fix them before continuing.")};
},{}],"r6/B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=new Vue({el:"#vue-app-message-display",data:{messages:[]},methods:{typeToClass:function(e){return"has-text-"+e}}}),s=exports.clearMessages=function(){e.messages.splice(0,e.messages.length)},t=exports.addMessage=function(s){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";e.messages.push({text:s,type:t})};
},{}],"XLdV":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(e,r){t(this,n),this.states=e,this.addState(exports.GenericStatus.NoError,r)}return e(n,[{key:"addState",value:function(e,t){void 0===t&&(t=this.stateData),this.states.push(new o(r(t),e))}}]),n}();exports.Puzzle=n;var o=function e(r,n){t(this,e),this.data=r,this.status=n};exports.State=o;var s,a,i=function e(r,n){t(this,e),this.event=r,this.severityLevel=n};exports.Status=i,function(e){e.Success="success",e.None=""}(s=exports.GenericEvent||(exports.GenericEvent={})),function(e){e.NoError="no_error",e.NonFatalError="non_fatal_error",e.FatalError="fatal_error"}(a=exports.SeverityLevel||(exports.SeverityLevel={})),exports.GenericStatus={NoError:new i(s.None,a.NoError),Success:new i(s.Success,a.NoError)};
},{}],"wlSc":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.Left="left",e.Right="right"}(e=exports.Side||(exports.Side={})),exports.checkSuccess=function(t){return!t.find(function(t){return t.side===e.Left})},exports.crossersOnCorrectSide=function(e,t){var r=e.find(function(e){return e.side!==t});if(void 0!==r)return r},exports.switchSides=function(t){var r=void 0;r=t[0].side===e.Left?e.Right:e.Left,t.map(function(e){return e.side=r})};
},{}],"eoo9":[function(require,module,exports) {
"use strict";var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../base-puzzle-setup"),s=require("./common-setup"),u=function(e){function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:17,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.Side.Left,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];n(this,r);var c=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,u,new l(e,t,null)));return c.adventurers=e,c.timePassed=t,c.timeLimit=a,c.currentSide=i,c.states=u,c}return a(r,i.Puzzle),t(r,[{key:"stateData",get:function(){return new l(this.adventurers,this.timePassed,this.currentSide)}},{key:"outOfTime",get:function(){return f.timePassed>f.timeLimit}}]),r}(),c=function(e){function t(e,r){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.data=e,a.status=r,a}return a(t,i.State),t}();exports.GhoulState=c;var l=function e(t,r,o){n(this,e),this.adventurers=t,this.timePassed=r,this.moveDirection=o},d=function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Side.Left,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,e),this.name=t,this.timeToCross=r,this.side=o,this.hasTorch=a};function h(e){var t=s.crossersOnCorrectSide(e,f.currentSide);return void 0!==t?new i.Status(t.name+" not on correct side",i.SeverityLevel.NonFatalError):e.length>2?new i.Status("only a max of 2 adventurers can cross the bridge at once",i.SeverityLevel.NonFatalError):0===e.length?new i.Status("an adventurer is needed to cross the bridge",i.SeverityLevel.NonFatalError):e.find(function(e){return e.hasTorch})?null:new i.Status("at least 1 adventurer must have a torch to cross the bridge",i.SeverityLevel.NonFatalError)}exports.GhoulStatus={SuccessStatus:new i.Status("Success - Everyone crossed the bridge.",i.SeverityLevel.NoError)},exports.crossBridge=function(){if(!f.outOfTime){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=h(t);null===o?(s.switchSides(t),f.currentSide=t[0].side,f.timePassed+=Math.max.apply(Math,r(t.map(function(e){return e.timeToCross}))),f.outOfTime?f.addState(new i.Status("Time limit exceeded",i.SeverityLevel.FatalError)):s.checkSuccess(f.adventurers)?f.addState(exports.GhoulStatus.SuccessStatus):f.addState(i.GenericStatus.NoError)):f.addState(o)}},exports.giveTorch=function(t){if(!f.outOfTime)if(!0===t.hasTorch)f.addState(new i.Status(t.name+" already has the torch",i.SeverityLevel.NonFatalError));else{var r=f.adventurers.filter(function(e){return!0===e.hasTorch}).map(function(e){return e.side});if(e(r,1)[0]!==t.side)return void f.addState(new i.Status("The torch can only be transferred to adventurers on the same side",i.SeverityLevel.NonFatalError));f.adventurers.map(function(e){return e.hasTorch=!1}),t.hasTorch=!0,f.addState(i.GenericStatus.NoError)}},exports.initGhoulPuzzle=function(){var e=[new d("Alice",1,s.Side.Left,!0),new d("Bob",2),new d("Charlie",5),new d("Doris",10)];return f=new u(e),exports.states=f.states,e};var f=void 0;
},{"../base-puzzle-setup":"XLdV","./common-setup":"wlSc"}],"sx7l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDraw=function(){var e="animation-container",t=document.getElementById(e);for(t.style.background="";t.firstChild;)t.removeChild(t.firstChild);return SVG(e)};
},{}],"jQaN":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,u){function o(e){try{c(r.next(e))}catch(e){u(e)}}function s(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./common-setup");function n(t){return e(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e,this)}))}exports.sortIntoLeftAndRightSides=function(e){function n(e,t){return e.filter(function(e){return e.side==t}).map(function(t){return e.indexOf(t)})}return[n(e,t.Side.Left),n(e,t.Side.Right)]},exports.getMovingCrossers=function(e,t){return e.filter(function(n){return n.side!==t[e.indexOf(n)].side}).map(function(t){return e.indexOf(t)})},exports.getBaseDimensions=function(e){var t=e.native().getBoundingClientRect();return[t.width,t.height]},exports.getCenterY=function(e,t){return t/2-e/2},exports.sleep=n;
},{"./common-setup":"wlSc"}],"MwiP":[function(require,module,exports) {
"use strict";var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,a=!1,s=void 0;try{for(var n,h=e[Symbol.iterator]();!(r=(n=h.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{!r&&h.return&&h.return()}finally{if(a)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,s){function n(e){try{d(r.next(e))}catch(e){s(e)}}function h(e){try{d(r.throw(e))}catch(e){s(e)}}function d(e){e.done?a(e.value):new i(function(t){t(e.value)}).then(n,h)}d((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("../base-animator"),s=require("./common-animator"),n=require("./common-setup"),h=require("../base-puzzle-setup"),d=require("./bridge-setup"),o=function(){function o(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.createDraw();i(this,o),this.addMessage=t,this.specificDir=r,this.draw=n,this.drawings=new Map,this.fileExtension=".svg",this.numCharsOnSide=4,this.bridgeHeightToWidthRatio=140/512,this.draw.clear();var h=s.getBaseDimensions(this.draw),d=e(h,2);this.baseWidth=d[0],this.baseHeight=d[1],this.characterSideLength=this.baseWidth/16,this.sideWidth=this.characterSideLength*this.numCharsOnSide,this.bridgeHeight=(this.baseWidth-2*this.sideWidth)*this.bridgeHeightToWidthRatio,this.bridgeYCoord=this.baseHeight-this.bridgeHeight,this.timePassedText=this.draw.text("Time passed: 0"),this.timePassedText.font({family:"Helvetica",size:30}),this.torchHeight=this.characterSideLength,this.torch=this.createTorch()}return t(o,[{key:"createTorch",value:function(){return this.draw.image(this.specificDir+"torch"+this.fileExtension).size(this.characterSideLength/2,this.characterSideLength)}},{key:"animate",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,i,r,a,n,h,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setupBackground(),t=0;t<d.states[0].data.adventurers.length;t++)i=d.states[0].data.adventurers[t],this.drawings.set(t,this.draw.image(this.specificDir+i.name+this.fileExtension).size(this.characterSideLength,this.characterSideLength));r=!0,a=!1,n=void 0,e.prev=5,h=d.states[Symbol.iterator]();case 7:if(r=(o=h.next()).done){e.next=16;break}return c=o.value,e.next=11,this.drawFrame(c);case 11:return e.next=13,s.sleep(500);case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),a=!0,n=e.t0;case 22:e.prev=22,e.prev=23,!r&&h.return&&h.return();case 25:if(e.prev=25,!a){e.next=28;break}throw n;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}},e,this,[[5,18,22,30],[23,,25,29]])}))}},{key:"drawFrame",value:function(t){return r(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r,a,o,c,u,v,f,g,l,m;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r=d.states.indexOf(t),a=s.sortIntoLeftAndRightSides(t.data.adventurers),o=e(a,2),c=o[0],u=o[1],0!==r){i.next=7;break}this.drawBridgeSide(n.Side.Left,c),this.drawBridgeSide(n.Side.Right,u),i.next=18;break;case 7:return v=!1,f=!1,t.status===d.GhoulStatus.SuccessStatus?v=!0:t.status.severityLevel===h.SeverityLevel.FatalError?f=!0:t.status.severityLevel===h.SeverityLevel.NonFatalError&&this.addMessage("Warning: "+t.status.event,"warning"),(g=t.data.moveDirection)===n.Side.Left?this.drawBridgeSide(n.Side.Right,u):this.drawBridgeSide(n.Side.Left,c),l=d.states[r-1],m=s.getMovingCrossers(t.data.adventurers,l.data.adventurers),i.next=16,this.animateCrossing(m,g,t);case 16:g===n.Side.Left?this.drawBridgeSide(n.Side.Left,c):this.drawBridgeSide(n.Side.Right,u),f?this.displayFatalError(t.status.event):v&&this.addMessage(t.status.event,"success");case 18:this.updateTimePassed(t.data.timePassed),this.updateTorch(t);case 20:case"end":return i.stop()}},i,this)}))}},{key:"displayFatalError",value:function(e){var t=3*this.characterSideLength;this.draw.image(this.specificDir+"ghost"+this.fileExtension).size(t,t).move(this.baseWidth/2-t/2,this.bridgeYCoord-t-t/2),this.addMessage("Error: "+e)}},{key:"updateTimePassed",value:function(e){this.timePassedText.text("Time Passed: "+e)}},{key:"updateTorch",value:function(t){var i=t.data.adventurers.filter(function(e){return e.hasTorch}).map(function(e){return e.name}),r=e(i,1)[0],a=t.data.adventurers.filter(function(e){return e.name===r}).map(function(e){return t.data.adventurers.indexOf(e)}),s=e(a,1)[0],n=this.drawings.get(s);this.moveTorch(n)}},{key:"moveTorch",value:function(e){this.torch.move(e.x()+this.characterSideLength/4,this.bridgeYCoord-this.characterSideLength-this.torchHeight)}},{key:"animateCrossing",value:function(e,t,i){return r(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,h,o,c,u,v,f,g,l,m,p,b,w,S,x,y,k,L,W,T;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=1200,null!==t){r.next=3;break}throw"Internal Error - moveDirection cannot be null. Report this to the developer.";case 3:if(0!==e.length){r.next=5;break}return r.abrupt("return");case 5:for(h=this.draw.group(),o=this.characterSideLength,c=this.sideWidth,u=this.baseWidth-this.sideWidth,t===n.Side.Left&&(o*=-1,c=this.baseWidth-this.sideWidth,u=this.sideWidth),v=c,f=u-c,g=!0,l=!1,m=void 0,r.prev=15,p=e[Symbol.iterator]();!(g=(b=p.next()).done);g=!0)w=b.value,(S=this.drawings.get(w)).move(v,this.bridgeYCoord-this.characterSideLength),h.add(S),i.data.adventurers[w].hasTorch&&(this.moveTorch(S),h.add(this.torch)),v+=o;r.next=23;break;case 19:r.prev=19,r.t0=r.catch(15),l=!0,m=r.t0;case 23:r.prev=23,r.prev=24,!g&&p.return&&p.return();case 26:if(r.prev=26,!l){r.next=29;break}throw m;case 29:return r.finish(26);case 30:return r.finish(23);case 31:return h.animate(a,"-",0).move(f,0),r.next=34,s.sleep(a);case 34:for(h.remove(),x=!0,y=!1,k=void 0,r.prev=38,L=e[Symbol.iterator]();!(x=(W=L.next()).done);x=!0)T=W.value,this.drawings.set(T,this.draw.image(this.specificDir+d.states[0].data.adventurers[T].name+this.fileExtension).size(this.characterSideLength,this.characterSideLength));r.next=46;break;case 42:r.prev=42,r.t1=r.catch(38),y=!0,k=r.t1;case 46:r.prev=46,r.prev=47,!x&&L.return&&L.return();case 49:if(r.prev=49,!y){r.next=52;break}throw k;case 52:return r.finish(49);case 53:return r.finish(46);case 54:this.torch=this.createTorch();case 55:case"end":return r.stop()}},r,this,[[15,19,23,31],[24,,26,30],[38,42,46,54],[47,,49,53]])}))}},{key:"drawBridgeSide",value:function(e,t){var i=void 0,r=this.characterSideLength;e===n.Side.Left?i=0:(i=this.baseWidth,i+=r*=-1);var a=!0,s=!1,h=void 0;try{for(var d,o=t[Symbol.iterator]();!(a=(d=o.next()).done);a=!0){var c=d.value;this.drawings.get(c).move(i,this.bridgeYCoord-this.characterSideLength),i+=r}}catch(e){s=!0,h=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw h}}}},{key:"setupBackground",value:function(){var e=this.baseWidth-2*this.sideWidth;this.draw.image(this.specificDir+"bridge"+this.fileExtension).size(e,this.bridgeHeight).move(this.sideWidth,this.bridgeYCoord),this.draw.rect().size(this.sideWidth,this.bridgeHeight).move(0,this.bridgeYCoord).fill("#A9A9A9").clone().move(this.baseWidth-this.sideWidth,this.bridgeYCoord)}}]),o}();exports.BridgeAnimator=o;
},{"../base-animator":"sx7l","./common-animator":"jQaN","./common-setup":"wlSc","../base-puzzle-setup":"XLdV","./bridge-setup":"eoo9"}],"/7gd":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../base-puzzle-setup"),a=require("./common-setup"),s=function(e){function a(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];r(this,a);var u=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,s,new l(e,t)));return u.passengers=e,u.boat=t,u.rules=o,u.fatalErrorRaised=i,u.states=s,u}return o(a,i.Puzzle),t(a,[{key:"stateData",get:function(){return new l(this.passengers,this.boat)}}]),a}(),u=function(e){function t(e,o){r(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return i.data=e,i.status=o,i}return o(t,i.State),t}();exports.RiverState=u;var l=function e(t,n){r(this,e),this.passengers=t,this.boat=n},p=function e(t,n,o){r(this,e),this.oldType=t,this.newType=n,this.side=o};exports.RiverErrorData=p;var f=function(e){function t(e,o,i){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.event=e,a.severityLevel=o,a.errorData=i,a}return o(t,i.Status),t}();exports.RiverStatus=f,exports.RiverStatuses={SuccessStatus:new i.Status("Success - Everyone crossed the river.",i.SeverityLevel.NoError)};var c=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Side.Left;r(this,e),this.rowerTypes=t,this.weightLimit=n,this.side=o},y=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Side.Left;r(this,e),this.type=t,this.weight=n,this.side=o};exports.Passenger=y;var v=function e(){r(this,e)},h=function(s){function u(e,t,o){r(this,u);var i=n(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return i.type1=e,i.type2=t,i.type3=o,i}return o(u,v),t(u,[{key:"check",value:function(t){var r=this,n=function(e){var n=function(e,t,r){return e.side===t&&e.type===r},o=t.passengers.some(function(t){return n(t,e,r.type1)}),a=t.passengers.some(function(t){return n(t,e,r.type2)}),s=t.passengers.some(function(t){return n(t,e,r.type3)});if(o&&a&&!s){var u=r.type1+" and "+r.type2+" are both on "+e+" side without "+r.type3;return"apple"===r.type2?{v:new f(u,i.SeverityLevel.FatalError,new p(r.type2,"apple_eaten",e))}:{v:new f(u,i.SeverityLevel.FatalError,new p(r.type2,"skull",e))}}},o=!0,s=!1,u=void 0;try{for(var l,c=Object.values(a.Side)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var y=n(l.value);if("object"===(void 0===y?"undefined":e(y)))return y.v}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}return i.GenericStatus.NoError}}]),u}(),d=function(e){function s(e,t){r(this,s);var o=n(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return o.type1=e,o.type2=t,o}return o(s,v),t(s,[{key:"check",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,s=Object.values(a.Side)[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var u=o.value,l=0,c=0,y=!0,v=!1,h=void 0;try{for(var d,w=e.passengers[Symbol.iterator]();!(y=(d=w.next()).done);y=!0){var b=d.value;b.type===this.type1&&b.side===u?l++:b.type===this.type2&&b.side===u&&c++}}catch(e){v=!0,h=e}finally{try{!y&&w.return&&w.return()}finally{if(v)throw h}}if(l>c&&c>0){var S=this.type1+"s outnumber "+this.type2+"s on the "+u+" side";return new f(S,i.SeverityLevel.FatalError,new p(this.type2,"skull",u))}}}catch(e){r=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}return i.GenericStatus.NoError}}]),s}();function w(e){var t=!1,r=0,n=!0,o=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var p=u.value;if(r+=p.weight,b.boat.rowerTypes.indexOf(p.type)>-1&&(t=!0),p.side!=b.boat.side)return new i.Status(p.type+" not on correct side",i.SeverityLevel.NonFatalError)}}catch(e){o=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw s}}var f=a.crossersOnCorrectSide(e,b.boat.side);return void 0!==f?new i.Status(f.type+" not on correct side",i.SeverityLevel.NonFatalError):r>b.boat.weightLimit?new i.Status("boat weight limit exceeded",i.SeverityLevel.NonFatalError):t?null:new i.Status("no rower on boat",i.SeverityLevel.NonFatalError)}exports.moveBoat=function(){if(!b.fatalErrorRaised){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=w(t);if(null===n){a.switchSides(t),b.boat.side=t[0].side;var o=!0,s=!1,u=void 0;try{for(var l,p=b.rules[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){var f=l.value.check(b);if(f!==i.GenericStatus.NoError)return b.fatalErrorRaised=!0,void b.addState(f)}}catch(e){s=!0,u=e}finally{try{!o&&p.return&&p.return()}finally{if(s)throw u}}a.checkSuccess(b.passengers)?b.addState(exports.RiverStatuses.SuccessStatus):b.addState(i.GenericStatus.NoError)}else b.addState(n)}},exports.initGoatPuzzle=function(){var e=new c(["farmer"],2),t=[new y("goat",1),new y("apple",1),new y("wolf",1),new y("farmer",1)],r=[new h("wolf","goat","farmer"),new h("goat","apple","farmer")];return b=new s(t,e,r),exports.states=b.states,b.passengers},exports.initVampirePuzzle=function(){for(var e=new c(["vampire","priest"],2),t=[],r=[],n=[],o=0;o<3;o++)r.push(new y("vampire",1));t.push.apply(t,r);for(var i=0;i<3;i++)n.push(new y("priest",1));t.push.apply(t,n);var a=[new d("vampire","priest")];return b=new s(t,e,a),exports.states=b.states,[r,n]},exports.initSoldierPuzzle=function(){for(var e=new c(["soldier","boy"],3),t=[],r=[],n=[],o=0;o<6;o++)r.push(new y("soldier",2));t.push.apply(t,r);for(var i=0;i<2;i++)n.push(new y("boy",1));t.push.apply(t,n);return b=new s(t,e,[]),exports.states=b.states,[r,n]},exports.initHusbandPuzzle=function(){var e=new c(["Bob","Bob_Wife","Charlie","Charlie_Wife"],2),t=[new y("Bob",1),new y("Bob_Wife",1),new y("Charlie",1),new y("Charlie_Wife",1)],r=[new h("Bob_Wife","Charlie","Bob"),new h("Charlie_Wife","Bob","Charlie")];return b=new s(t,e,r),exports.states=b.states,b.passengers};var b=void 0;
},{"../base-puzzle-setup":"XLdV","./common-setup":"wlSc"}],"l2rr":[function(require,module,exports) {
"use strict";var e=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,i=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(t.push(s.value),!r||t.length!==r);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw n}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}();function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var a=this&&this.__awaiter||function(e,r,t,a){return new(t||(t=Promise))(function(i,n){function s(e){try{c(a.next(e))}catch(e){n(e)}}function o(e){try{c(a.throw(e))}catch(e){n(e)}}function c(e){e.done?i(e.value):new t(function(r){r(e.value)}).then(s,o)}c((a=a.apply(e,r||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../base-puzzle-setup"),n=require("../base-animator"),s=require("./river-setup"),o=require("./common-animator"),c=require("./common-setup"),u="#80FF72",v="#7EE8FA",d=".svg",h=new Map,l=void 0,p=void 0,f=void 0,m=4,g=2,w=10,y=void 0,x=void 0,b=void 0,k=void 0,D=void 0,R=void 0,S=1200,E=function(){function E(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.createDraw();t(this,E),this.addMessage=e,this.specificDir=r,this.draw=a,this.baseDir="./assets/river-crossing/",this.commonDir="common/",this.draw.clear(),h.clear()}return r(E,[{key:"animate",value:function(){return a(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,t,a,i,n,c,u,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this.calculateDimensions(),this.initBackground(),this.initBoat(),r=0;r<s.states[0].data.passengers.length;r++)t=s.states[0].data.passengers[r],h.set(r,this.draw.image(this.baseDir+this.specificDir+t.type+d).size(y,y));a=!0,i=!1,n=void 0,e.prev=7,c=s.states[Symbol.iterator]();case 9:if(a=(u=c.next()).done){e.next=18;break}return v=u.value,e.next=13,this.drawFrame(v);case 13:return e.next=15,o.sleep(500);case 15:a=!0,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),i=!0,n=e.t0;case 24:e.prev=24,e.prev=25,!a&&c.return&&c.return();case 27:if(e.prev=27,!i){e.next=30;break}throw n;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}},e,this,[[7,20,24,32],[25,,27,31]])}))}},{key:"initBoat",value:function(){p=2*y+w,f=o.getCenterY(p,x),l=this.draw.image(this.baseDir+this.commonDir+"raft.svg").size(p,p).move(D+k,f)}},{key:"drawFrame",value:function(r){return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,n,u,v,d,h,l,p,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=s.states.indexOf(r),n=o.sortIntoLeftAndRightSides(r.data.passengers),u=e(n,2),v=u[0],d=u[1],0!==a){t.next=7;break}this.drawRiverBank(D,v),this.drawRiverBank(R,d),t.next=18;break;case 7:return h=!1,l=!1,r.status===s.RiverStatuses.SuccessStatus?h=!0:r.status.severityLevel===i.SeverityLevel.FatalError?l=!0:r.status.severityLevel===i.SeverityLevel.NonFatalError&&this.addMessage("Warning: "+r.status.event,"warning"),"left"===(p=r.data.boat.side)?this.drawRiverBank(R,d):this.drawRiverBank(D,v),f=s.states[a-1],m=o.getMovingCrossers(r.data.passengers,f.data.passengers),t.next=16,this.animateCrossing(m,p);case 16:p===c.Side.Left?this.drawRiverBank(D,v):this.drawRiverBank(R,d),l?this.displayFatalError(r.status.event,r.status.errorData,r.data.passengers):h&&this.addMessage(r.status.event,"success");case 18:case"end":return t.stop()}},t,this)}))}},{key:"displayFatalError",value:function(e,r,t){this.replaceImage(r.oldType,r.newType,r.side,t),this.addMessage("Error: "+e)}},{key:"replaceImage",value:function(e,r,t,a){var i=this;h.forEach(function(n,s){var o=n.src;if(o&&a[s].side===t&&o.split("/").pop().slice(0,-d.length)===e){var c=n.x(),u=n.y();n.remove(),n="apple"===e?i.draw.image(n.src.replace(e+d,r+d)).size(y,y).move(c,u):i.draw.image(n.src.replace(n.src.split("/").slice(-2).join("/"),"common/"+r+d)).size(y,y).move(c,u)}})}},{key:"animateCrossing",value:function(e,r){return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var a,i,n,u,v,m,g,b,E,B,z,F,M,C,L,q,A,I,j,O,P,T,_,W,Y,N,V,G,H;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.draw.group(),i=!1,e.length>0&&(a.add(l),i=!0),n=o.getCenterY(y,x),r!==c.Side.Right){t.next=35;break}for(v=u=D+k,m=!0,g=!1,b=void 0,t.prev=10,E=e[Symbol.iterator]();!(m=(B=E.next()).done);m=!0)z=B.value,(F=h.get(z)).move(v,n),a.add(F),v+=y+w;t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),g=!0,b=t.t0;case 18:t.prev=18,t.prev=19,!m&&E.return&&E.return();case 21:if(t.prev=21,!g){t.next=24;break}throw b;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return C=(M=R-p)-u,a.animate(S,"-",0).move(C,0),t.next=31,o.sleep(S);case 31:a.remove(),i&&(l=this.draw.image(this.baseDir+this.commonDir+"raft.svg").size(p,p).y(f).x(M)),t.next=62;break;case 35:for(L=R-y,q=!0,A=!1,I=void 0,t.prev=39,j=e[Symbol.iterator]();!(q=(O=j.next()).done);q=!0)P=O.value,(T=h.get(P)).move(L,n),a.add(T),L-=y+w;t.next=47;break;case 43:t.prev=43,t.t1=t.catch(39),A=!0,I=t.t1;case 47:t.prev=47,t.prev=48,!q&&j.return&&j.return();case 50:if(t.prev=50,!A){t.next=53;break}throw I;case 53:return t.finish(50);case 54:return t.finish(47);case 55:return _=-(R-(D+k+p)),a.animate(S,"-",0).move(_,0),t.next=60,o.sleep(S);case 60:a.remove(),i&&(l=this.draw.image(this.baseDir+this.commonDir+"raft.svg").size(p,p).y(f).x(D+p));case 62:for(W=!0,Y=!1,N=void 0,t.prev=65,V=e[Symbol.iterator]();!(W=(G=V.next()).done);W=!0)H=G.value,h.set(H,this.draw.image(this.baseDir+this.specificDir+s.states[0].data.passengers[H].type+d).size(y,y));t.next=73;break;case 69:t.prev=69,t.t2=t.catch(65),Y=!0,N=t.t2;case 73:t.prev=73,t.prev=74,!W&&V.return&&V.return();case 76:if(t.prev=76,!Y){t.next=79;break}throw N;case 79:return t.finish(76);case 80:return t.finish(73);case 81:case"end":return t.stop()}},t,this,[[10,14,18,26],[19,,21,25],[39,43,47,55],[48,,50,54],[65,69,73,81],[74,,76,80]])}))}},{key:"calculateDimensions",value:function(){var r=w*(m-1),t=o.getBaseDimensions(this.draw),a=e(t,2);b=a[0],x=a[1],y=Math.round((x-r)/m),D=0,R=b-g*y-w}},{key:"initBackground",value:function(){k=y*g+w,this.draw.rect(k,x).move(0,0).fill(u).clone().x(R),this.draw.rect(b-2*k,x).move(k,0).fill(v);var e=k+parseInt(window.getComputedStyle(this.draw.node.parentElement,null).getPropertyValue("padding-left").replace(/px/g,"")),r=this.draw.node.parentElement.offsetWidth-e;this.draw.node.parentElement.style.background="linear-gradient(to right, "+u+" 0%, "+u+" "+e+"px, "+v+" "+e+"px, "+v+" "+r+"px, "+u+" "+r+"px, "+u+" 100%)"}},{key:"drawRiverBank",value:function(e,r){var t=0,a=e;e:for(var i=0;i<g;i++){for(var n=0,s=0;s<m;s++){if(t===r.length)break e;h.get(r[t]).move(a,n),n+=y+w,t++}a+=y}}}]),E}();exports.RiverAnimator=E;
},{"../base-puzzle-setup":"XLdV","../base-animator":"sx7l","./river-setup":"/7gd","./common-animator":"jQaN","./common-setup":"wlSc"}],"9syz":[function(require,module,exports) {
"use strict";var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,s=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))(function(n,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,a)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(exports,"__esModule",{value:!0});var a=require("../ui/alerts"),c=i(require("../ui/message-view")),u=function e(t,r,o,s,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n(this,e),this.objective=t,this.images=r,this.imageCaptions=o,this.rules=s,this.code=i,this.active=a},l=function(){function e(t,r,o){n(this,e),this.tutorialData=r,this.initialCode=o,this.setupCode=function(){c.clearMessages(),t()}}return t(e,[{key:"endCode",value:function(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,o,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.createAnimator(),t.next=3,r.animate();case 3:void 0!==e&&(o=void 0,n=/<anonymous>:(\d+)/.exec(JSON.stringify(e,Object.getOwnPropertyNames(e))),void 0!==e.lineNumber?o=e.lineNumber-2:null!==n?o=parseInt(n[1])-2:a.codeErrorAlert(),void 0!==o&&c.addMessage("Exception at line "+o+': "'+e.message+'"'));case 4:case"end":return t.stop()}},t,this)}))}}]),e}(),h=function(e){function s(e,t,o,i){n(this,s);var a=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,o,i));return a.assetsDir=e,a}return o(s,l),t(s,[{key:"createAnimator",value:function(){return new this.animatorConstructor(c.addMessage,this.assetsDir)}}]),s}(),d=require("./crossing-puzzles/bridge-setup"),g=require("./crossing-puzzles/bridge-animator"),p=function(e){function t(e,o,s,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,e,s,i));return a.__environment__={giveTorch:d.giveTorch,crossBridge:d.crossBridge},a.animatorConstructor=g.BridgeAnimator,a.tutorialData.images=a.tutorialData.images.map(function(e){return a.assetsDir+e}),a}return o(t,h),t}(),b=require("./crossing-puzzles/river-setup"),v=require("./crossing-puzzles/river-animator"),f=function(e){function t(e,o,s,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,e,s,i));return a.__environment__={moveBoat:b.moveBoat},a.animatorConstructor=v.RiverAnimator,a.tutorialData.images=a.tutorialData.images.map(function(e){return"./assets/river-crossing/"+a.assetsDir+e}),a}return o(t,h),t}(),m="goat-apple-wolf/";exports.goatCabbageWolf=new f(function(){var t=b.initGoatPuzzle(),r=e(t,4),o=r[0],n=r[1],s=r[2],i=r[3];Object.assign(exports.goatCabbageWolf.__environment__,{goat:o,apple:n,wolf:s,farmer:i})},m,new u("Get the wolf, goat, farmer, and apple to the right side of the river using the boat.",["wolf.svg","goat.svg","farmer.svg","apple.svg"],["wolf","goat","farmer","apple"],["The wolf cannot be left alone with the goat.","The goat cannot be left alone with the apple.","Only the farmer can row the boat.","The boat can hold up to 2 objects."],["<strong>Function:</strong> <code>moveBoat</code><br>\n<strong>Inputs:</strong> <code>Goat</code>, <code>Wolf</code>, <code>Farmer</code>, <code>Apple</code><br>\n<strong>Number of Inputs:</strong> 1 to 4<br>\n<strong>Description</strong>: Moves its inputs across the river on the boat."]),"//Moves the farmer and apple across the river\nmoveBoat(farmer, apple)");var _="vampire-priest/";exports.vampirePriest=new f(function(){var t=b.initVampirePuzzle(),r=e(t,2),o=r[0],n=r[1];Object.assign(exports.vampirePriest.__environment__,{vampires:o,priests:n})},_,new u("Get the priests and vampires to the other side of the river using the boat.",["priest.svg","vampire.svg"],["priest","vampire"],["The boat can hold a maximum of 2 people.","The number of vampires cannot exceed the number of priests on either side of the river."],["<strong>Function:</strong> <code>moveBoat</code><br>\n<strong>Inputs:</strong> Objects within the arrays <code>Vampires</code>, <code>Priests</code><br>\n<strong>Number of Inputs:</strong>  0 to 6<br>\n<strong>Description:</strong> Moves vampires and priests across the river."]),"//Moves the first vampire and second priest across the river\nmoveBoat(vampires[0], priests[1])");var y="soldier-boy/";exports.soldierBoy=new f(function(){var t=b.initSoldierPuzzle(),r=e(t,2),o=r[0],n=r[1];Object.assign(exports.soldierBoy.__environment__,{soldiers:o,boys:n})},y,new u("Get the soldiers and boys to the other side of the river using the boat.",["soldier.svg","boy.svg"],["soldier","boy"],["The boat can carry 2 boys, a solder and a boy, but not 2 soldiers."],["<strong>Function:</strong> <code>moveBoat</code><br>\n<strong>Inputs:</strong> Objects within the arrays <code>Soldiers</code>, <code>Boys</code><br>\n<strong>Number of Inputs:</strong>  0 to 8<br>\n<strong>Description:</strong> Moves soldiers and boys across the river."]),"//Moves the first soldier and second boy across the river\nmoveBoat(soldiers[0], boys[1])");var w="husband-wife/";exports.husbandWife=new f(function(){var t=b.initHusbandPuzzle(),r=e(t,4),o=r[0],n=r[1],s=r[2],i=r[3];Object.assign(exports.husbandWife.__environment__,{Bob:o,Bob_Wife:n,Charlie:s,Charlie_Wife:i})},w,new u("Get the husbands and wives to the other side of the river using the boat.",["Bob.svg","Bob_Wife.svg","Charlie.svg","Charlie_Wife.svg"],["Bob","Bob_Wife","Charlie","Charlie_Wife"],["Charlie cannot be left alone with Bob's wife.","Bob cannot be left alone with Charlie's Wife.","The boat can hold up to 2 people."],["<strong>Function:</strong> <code>moveBoat</code><br>\n<strong>Inputs:</strong> <code>Bob</code>,<code>Bob_Wife</code>,<code>Charlie</code>,<code>Charlie_Wife</code><br>\n<strong>Number of Inputs:</strong>  0 to 4<br>\n<strong>Description:</strong> Moves husbands and wives across the river."]),"//Moves Bob and Charlie's Wife across the river\nmoveBoat(Bob, Charlie_Wife)");var B="./assets/bridge-crossing/ghoul-adventurer/";exports.ghoul=new p(function(){var t=d.initGhoulPuzzle(),r=e(t,4),o=r[0],n=r[1],s=r[2],i=r[3];Object.assign(exports.ghoul.__environment__,{Alice:o,Bob:n,Charlie:s,Doris:i})},B,new u("Get all four adventurers to the other side of the bridge.",["Alice.svg","Bob.svg","Charlie.svg","Doris.svg"],["Alice","Bob","Charlie","Doris"],["Alice, Bob, Charlie, and Doris can cross the bridge in 1, 2, 5, and 10 minutes respectively","All 4 adventurers must cross the bridge in 17 minutes or less, otherwise a ghoul appears","The bridge can only bear the weight of 2 people at a time","Crossing the bridge is impossible without a torch"],["<strong>Function:</strong> <code>crossBridge</code><br>\n<strong>Inputs:</strong> <code>Alice</code>, <code>Bob</code>, <code>Charlie</code>, <code>Doris</code><br>\n<strong>Number of Inputs:</strong> 0 to 4<br>\n<strong>Description</strong>: Moves its inputs across the bridge.","<strong>Function:</strong> <code>giveTorch</code><br>\n<strong>Inputs:</strong> <code>Alice</code>, <code>Bob</code>, <code>Charlie</code>, <code>Doris</code><br>\n<strong>Number of Inputs:</strong> 1<br>\n<strong>Description</strong>: Moves its inputs across the bridge."]),"//Moves Alice and Doris across the Bridge\ncrossBridge(Alice, Doris)\n//Gives torch to Doris\ngiveTorch(Doris)");
},{"../ui/alerts":"rgxB","../ui/message-view":"r6/B","./crossing-puzzles/bridge-setup":"eoo9","./crossing-puzzles/bridge-animator":"MwiP","./crossing-puzzles/river-setup":"/7gd","./crossing-puzzles/river-animator":"l2rr"}],"bVsJ":[function(require,module,exports) {
exports.initModal=function(n){new Vue({el:"#vue-app-modal",data:n,methods:{continueToPuzzle:function(){this.active=!1},returnToMenu:function(){window.history.back()}}})};
},{}],"epB2":[function(require,module,exports) {
"use strict";require("regenerator-runtime/runtime");var e=require("./ui/alerts"),t=require("./puzzles/puzzle-manager");function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,a){try{var s=t[i](a),o=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})}}var i=ace.edit("editor");i.setTheme("ace/theme/monokai"),i.session.setMode("ace/mode/javascript"),i.setShowPrintMargin(!1),i.getSession().setUseWrapMode(!0),i.setFontSize(20);var a="vue-run-button",s=new Vue({el:"#"+a,data:{runningCode:!1,text:"Run"},methods:{runUserCode:function(){var t=r(regeneratorRuntime.mark(function t(){var r,a,s,o,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.startRunning(),this.runningCode=!0,r=!0,a=!1,s=void 0,t.prev=5,o=i.getSession().getAnnotations()[Symbol.iterator]();case 7:if(r=(c=o.next()).done){t.next=16;break}if("warning"!==(d=c.value).type&&"error"!==d.type){t.next=13;break}return(0,e.codeErrorAlert)(),this.stopRunning(),t.abrupt("return");case 13:r=!0,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),a=!0,s=t.t0;case 22:t.prev=22,t.prev=23,!r&&o.return&&o.return();case 25:if(t.prev=25,!a){t.next=28;break}throw s;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return u.setupCode(),t.prev=31,(new(Function.prototype.bind.apply(Function,[null].concat(n(Object.keys(u.__environment__)),[i.getValue()])))).apply(void 0,n(Object.values(u.__environment__))),t.next=35,u.endCode();case 35:t.next=41;break;case 37:return t.prev=37,t.t1=t.catch(31),t.next=41,u.endCode(t.t1);case 41:this.stopRunning();case 42:case"end":return t.stop()}},t,this,[[5,18,22,30],[23,,25,29],[31,37]])}));return function(){return t.apply(this,arguments)}}(),startRunning:function(){this.text=" ",this.runningCode=!0},stopRunning:function(){this.runningCode=!1,this.text="Run"}}}),o=new Map;o.set("Wolves and Goats",t.goatCabbageWolf),o.set("Priests and Vampires",t.vampirePriest),o.set("Soldiers and Boys",t.soldierBoy),o.set("Husbands and Wives",t.husbandWife),o.set("Ghouls and Adventurers",t.ghoul);var u=o.get(sessionStorage.getItem("puzzleID")),c=require("./ui/modal-controller");c.initModal(u.tutorialData),s.runUserCode();var d=document.getElementById(a);d.style.height=d.clientHeight+4+"px",i.setValue(u.initialCode);
},{"regenerator-runtime/runtime":"VuXv","./ui/alerts":"rgxB","./puzzles/puzzle-manager":"9syz","./ui/modal-controller":"bVsJ"}]},{},["epB2"], null)
//# sourceMappingURL=/main.map